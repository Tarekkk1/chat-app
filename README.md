# Chat System API

## Overview
This project is a chat system API built using **Ruby on Rails**. The system allows for the creation and management of applications, each identified by a unique token. Applications can have multiple chats, and each chat can contain multiple messages. The key features of the system include:

- **Applications:** Each application has a name (provided by the client) and a token (generated by the system).
- **Chats:** Each application can contain multiple chats, each identified by a unique number starting from 1.
- **Messages:** Each chat can contain multiple messages, each identified by a unique number starting from 1 for the respective chat.
- **Search Functionality:** Full-text search for messages within a chat using **Elasticsearch**.
- **Concurrency Handling:** The system handles race conditions and uses Redis to cache frequently accessed data and queuing for background tasks.
- **Delayed Persistence:** Chats and messages can take time to be persisted into the database.
- **Scalability:** The API is designed to handle concurrent requests efficiently using background jobs and Redis for caching.

## Features
1. **Create Applications:** Create new applications with a name and a unique token.
2. **Manage Chats:** Create and manage chats associated with specific applications.
3. **Manage Messages:** Create and manage messages associated with specific chats.
4. **Search Messages:** Search through messages within a chat using Elasticsearch for fast, full-text search functionality.
5. **Optimized Endpoints:** RESTful endpoints are optimized with indices for performance.
6. **Delayed Job Integration:** Background processing is handled using Delayed Jobs for chat and message creation.

## Prerequisites

To run the project, ensure you have the following installed on your machine:
- Docker
- Docker Compose
- MySQL (used within the Docker environment)
- Redis (used within the Docker environment)
- Elasticsearch (used for searching through messages within the Docker environment)

## Technologies Used
- **Ruby on Rails (v5 or later):** Framework for building the API and background workers.
- **MySQL:** Main datastore for applications, chats, and messages.
- **Redis:** Used for caching and managing race conditions.
- **Elasticsearch:** Used for full-text search of messages.
- **Delayed Job:** For background processing and task queuing.
  
## Getting Started

### 1. Clone the Repository
```bash
git clone https://github.com/Tarekkk1/chat-app.git
cd chat-app

```
### 2. Running the App with Docker
```bash
docker-compose up
```

### 3. Access the API
The API is accessible at `http://localhost:3001`.

## Postman Collection
The Postman collection for the API can be found [here](https://github.com/Tarekkk1/chat-app/blob/master/Ruby.postman_collection.json).
